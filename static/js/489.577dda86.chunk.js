"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[489],{8690:function(e,t,n){n.d(t,{Z:function(){return g}});var r,a=n(885),o=n(2791),c="Counter_container__E09Nv",i=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){var n=e.title,a=e.titleId,c=l(e,i);return o.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?o.createElement("title",{id:a},n):null,r||(r=o.createElement("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})))}var d,h=o.forwardRef(u),m=(n.p,["title","titleId"]);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){var n=e.title,r=e.titleId,a=p(e,m);return o.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,d||(d=o.createElement("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})))}var x=o.forwardRef(v),b=(n.p,n(184));var g=function(e){var t=e.count,n=e.setCount,r=e.step,i=void 0===r?1:r,s=e.min,l=void 0===s?1:s,u=e.max,d=void 0===u?999:u,m=e.fontSize,f=void 0===m?"clamp(30px, 3vw, 42px)":m,p=e.label,v=void 0===p?"Product count.":p;l>d&&console.error("Min value provided to counter (".concat(l,") is greater than max value (").concat(d,")."));var g=(0,o.useState)(""),j=(0,a.Z)(g,2),_=j[0],y=j[1],w=(0,o.useState)(Math.random()),N=(0,a.Z)(w,1)[0],C={fontSize:f},P={width:f,height:f},k=(0,o.useRef)(null);function S(e){if(t!==l){var r=t-(e||i);n(r>l?r:l)}}function O(e){if(t!==d){var r=t+(e||i);n(r<d?r:d)}}function E(e){I(e.currentTarget.name),"minus"===e.currentTarget.name?S():O()}function I(e){var t=Math.random();k.current=t,setTimeout((function(){t===k.current&&y(e)}),400)}return(0,o.useEffect)((function(){function e(e){!_||e.key&&"ArrowDown"!==e.key&&"ArrowUp"!==e.key||y(""),k.current=null}return window.addEventListener("pointerup",e),window.addEventListener("keyup",e),function(){window.removeEventListener("pointerup",e),window.removeEventListener("keyup",e)}})),(0,o.useEffect)((function(){t>d&&n(d),t<l&&n(l)}),[t,l,d,n]),(0,o.useEffect)((function(){var e=null;return"minus"===_?e=setTimeout(S,100):"plus"===_&&(e=setTimeout(O,100)),function(){clearTimeout(e)}})),(0,b.jsxs)("div",{style:C,className:c,onKeyDown:function(e){switch(e.key){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":case"Home":case"End":case"PageUp":case"PageDown":e.preventDefault()}if(!e.repeat)switch(e.key){case"ArrowDown":I("minus"),S();break;case"ArrowUp":I("plus"),O();break;case"ArrowLeft":S();break;case"ArrowRight":O();break;case"Home":S(Number.MAX_SAFE_INTEGER);break;case"End":O(Number.MAX_SAFE_INTEGER);break;case"PageUp":S(5*i);break;case"PageDown":O(5*i)}},role:"spinbutton","aria-valuemin":l,"aria-valuemax":d,"aria-valuenow":t,"aria-label":v,tabIndex:0,id:N,children:[(0,b.jsx)("button",{style:P,onPointerDown:E,tabIndex:-1,name:"minus","aria-label":"Subtract.","aria-controls":N,"data-cy":"counter-subtract",children:(0,b.jsx)(x,{"aria-hidden":"true"})}),(0,b.jsx)("span",{"data-cy":"counter-count",children:t}),(0,b.jsx)("button",{style:P,onPointerDown:E,tabIndex:-1,name:"plus","aria-label":"Add.","aria-controls":N,"data-cy":"counter-add",children:(0,b.jsx)(h,{"aria-hidden":"true"})})]})}},8953:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(2791),a=n(4880),o=n(1523),c="CurrentPath_background__2hm4n",i="CurrentPath_container__+tMHC",s="CurrentPath_link__ze6e4",l=n(184);var u=function(e){var t=e.lastPathName,n=(0,a.useRouteMatch)().path.split("/").filter((function(e){return e}));t&&(n[n.length-1]=t);for(var u=[(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(o.rU,{to:"/",className:s,children:"home"})," / "]},"a")],d=0;d<n.length;d++)d<n.length-1?u.push((0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(o.rU,{to:"/".concat(n[d]),className:s,children:n[d]})," /"]},d)):u.push((0,l.jsx)("span",{children:n[d]},d));return(0,l.jsx)("div",{className:c,children:(0,l.jsx)("div",{"data-testid":"paths-container",className:i,children:u})})}},926:function(e,t,n){n.d(t,{Z:function(){return o}});n(2791);var r={section:"StandaloneSection_section__RmZHy","section--background-1":"StandaloneSection_section--background-1__6ph7+","section--background-2":"StandaloneSection_section--background-2__t-Sui","section--centered":"StandaloneSection_section--centered__2+-69","section--protruding":"StandaloneSection_section--protruding__TFIQo"},a=n(184);var o=function(e){var t=e.children,n=e.backgroundID,o=e.isProtruding,c=e.isCentered,i=e.isSemanticSection,s=r.section;return s+=n?" ".concat(r["section--background-".concat(n)]):"",s+=o?" ".concat(r["section--protruding"]):"",s+=c?" ".concat(r["section--centered"]):"",i?(0,a.jsx)("section",{className:s,children:(0,a.jsx)("div",{className:"max-width",children:t})}):(0,a.jsx)("div",{className:s,children:(0,a.jsx)("div",{className:"max-width",children:t})})}},2527:function(e,t,n){var r=n(2791);t.Z=function(e){(0,r.useEffect)((function(){document.title=e?"Comfy Sloth | ".concat(e):"Comfy Sloth"}),[e])}},8489:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r,a=n(885),o=n(2791),c=n(1523),i=n(8953),s="ProductInCart_container__5GDnP",l="ProductInCart_first-part__ma2yR",u="ProductInCart_second-part__ERyC8",d="ProductInCart_image__h8ngq",h="ProductInCart_heading-link__HttxB",m="ProductInCart_color-container__JC9VP",f="ProductInCart_color__4wg7E",p="ProductInCart_medium-screen__iPgBd",v="ProductInCart_small-screen__NBVhX",x=n(8690),b=n(1186),g=["title","titleId"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){var n=e.title,a=e.titleId,c=_(e,g);return o.createElement("svg",j({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?o.createElement("title",{id:a},n):null,r||(r=o.createElement("path",{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"})))}var w=o.forwardRef(y),N=(n.p,n(7577)),C=n(393),P=n(184);var k=function(e){var t=e.color,n=e.quantity,r=e.setQuantity,i=e.sameOfDifferentColorInCart,g=e.remove,j=e.id,_=e.data,y=e.locationData,k=(0,o.useState)(!1),S=(0,a.Z)(k,2),O=S[0],E=S[1],I=null===_||void 0===_?void 0:_.price,A="/products/".concat(j);if(y&&(A={pathname:A,state:y}),null!==_&&void 0!==_&&_.isError)return(0,P.jsxs)("p",{className:"error",children:["We were unable to find this product. Please, refresh the page or",(0,P.jsx)("button",{className:"button button--danger",onClick:g,children:"remove it from cart"})]});if(!_)return(0,P.jsx)(C.Z,{style:{width:75,height:75,margin:"0 auto 48px"}});var D=_.name,Z=_.stock,R=_.images[0].thumbnails.large.url,T=(n*I).toFixed(2),H=Z-i;return(0,P.jsxs)("article",{className:"cart-products-layout ".concat(s),children:[(0,P.jsx)(b.Z,{isShown:O,heading:"Are you sure?",message:"Do you really want to remove ".concat(D," (").concat((0,N.Ec)(t),") from your cart?"),onConfirm:function(){E(!1),g()},onReject:function(){return E(!1)}}),(0,P.jsxs)("div",{className:l,children:[(0,P.jsx)(c.rU,{"aria-hidden":"true",tabIndex:"-1",to:A,children:(0,P.jsx)("img",{className:d,src:R,alt:D})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h4",{className:"heading heading--no-margin heading--pico heading--capitalized",children:(0,P.jsx)(c.rU,{className:h,to:A,children:D})}),(0,P.jsxs)("div",{className:m,children:["Color:",(0,P.jsx)("span",{style:{backgroundColor:t},className:f,title:(0,N.Ec)(t)})]}),(0,P.jsx)("div",{"aria-description":"Price.",className:"".concat(v," text text--color-1 text--bold"),children:(0,N.V_)(I)})]})]}),(0,P.jsx)("div",{className:"".concat(p," text text--color-1"),"aria-hidden":"true",children:(0,N.V_)(I)}),(0,P.jsxs)("div",{className:u,children:[(0,P.jsx)(x.Z,{count:n,setCount:r,fontSize:"clamp(20px, 2.5vw, 24px)",max:H}),(0,P.jsx)("div",{"aria-description":"Subtotal.",className:p,children:(0,N.V_)(T)}),(0,P.jsx)("button",{className:"button button--danger button--square",onClick:function(){return E((function(e){return!e}))},"aria-label":"Remove from cart.",children:(0,P.jsx)(w,{className:"annoying-garbage-icon",alt:"Trash can icon."})})]})]})},S=n(926),O="ProductsInCartHead_container__Au-cv";var E=function(){return(0,P.jsxs)("div",{className:O,children:[(0,P.jsxs)("div",{className:"cart-products-layout",children:[(0,P.jsx)("span",{children:"Item"}),(0,P.jsx)("span",{children:"Price"}),(0,P.jsx)("span",{children:"Quantity"}),(0,P.jsx)("span",{children:"Subtotal"})]}),(0,P.jsx)("div",{className:"line"})]})},I="TotalPrice_container__hmcbx",A="TotalPrice_data__VzPSq",D="TotalPrice_total__My3WN",Z="TotalPrice_normal-weight__byN+K";var R=function(e){var t=e.subtotal,n=e.shipping,r=t+n;return(0,P.jsxs)("article",{className:I,children:[(0,P.jsxs)("div",{"data-testid":"subtotal",className:A,children:[(0,P.jsx)("span",{children:"Subtotal:"}),(0,P.jsx)("span",{children:(0,N.V_)(t)})]}),(0,P.jsxs)("div",{"data-testid":"shipping",className:"".concat(A," ").concat(Z),children:[(0,P.jsx)("span",{children:"Shipping Fee:"}),(0,P.jsx)("span",{children:(0,N.V_)(n)})]}),(0,P.jsx)("div",{className:"line"}),(0,P.jsxs)("div",{"data-testid":"total",className:"".concat(A," ").concat(D),children:[(0,P.jsx)("span",{children:"Order Total:"}),(0,P.jsx)("span",{children:(0,N.V_)(r)})]})]})},T=n(4480),H=n(392),U=n(2527);var M=function(){(0,U.Z)("Cart");var e=(0,H.E)().isLoggedIn,t=(0,T.i)(),n=t.cartProductsData,r=t.cartChangeCount,s=t.cartRemove,l=t.cartEmpty,u=t.totalPrice,d=t.requireFullData,h=(0,o.useState)(!1),m=(0,a.Z)(h,2),f=m[0],p=m[1],v=(0,o.useState)(!1),x=(0,a.Z)(v,2),g=x[0],j=x[1];(0,o.useEffect)((function(){return d()}),[d]),(0,o.useEffect)((function(){var e=n.find((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.isError}));!f&&e?p(!0):f&&!e&&p(!1)}),[n,f]);for(var _=[],y=function(e){var t=n[e];_.push((0,P.jsx)(k,{id:t.id,color:t.color,quantity:t.count,setQuantity:function(e){return r(t.id,t.color,e-t.count)},data:t.data,sameOfDifferentColorInCart:t.sameProductDiffColorsCount,remove:function(){return s(t.id,t.color)},locationData:{url:"/cart",name:"cart"}},"".concat(t.id," ").concat(t.color)))},w=0;w<n.length;w++)y(w);return n.length?(0,P.jsxs)("div",{children:[(0,P.jsx)(b.Z,{isShown:g,heading:"Are you sure?",message:"Do you really want to empty your cart?",onConfirm:function(){l(),j(!1)},onReject:function(){j(!1)}}),(0,P.jsx)(i.Z,{}),(0,P.jsxs)(S.Z,{children:[(0,P.jsx)(E,{}),_,(0,P.jsx)("div",{className:"line"}),(0,P.jsxs)("div",{className:"distant-twins-layout standalone standalone--small",children:[(0,P.jsx)(c.rU,{to:"/products",className:"button",children:"Continue Shopping"}),(0,P.jsx)("button",{onClick:function(){return j((function(e){return!e}))},className:"button button--color-1",children:"Clear Shopping Cart"})]}),f?(0,P.jsx)("p",{className:"error",children:"Oops... we have some trouble getting needed data. Please, refresh the page."}):u?(0,P.jsxs)("div",{className:"standalone standalone--medium standalone--no-bottom-margin center-then-right",children:[(0,P.jsx)(R,{subtotal:u.products,shipping:u.shipping}),e?(0,P.jsx)(c.rU,{to:"/checkout",className:"button button--uppercase button--block",children:"Proceed to checkout"}):(0,P.jsx)(c.rU,{to:"/login",className:"button button--uppercase button--block",children:"Login"})]}):(0,P.jsx)(C.Z,{})]})]}):(0,P.jsxs)("div",{children:[(0,P.jsx)(i.Z,{}),(0,P.jsxs)(S.Z,{isCentered:!0,children:[(0,P.jsx)("h1",{className:"heading heading--only-bottom-margin",children:"Your cart is empty"}),(0,P.jsx)(c.rU,{className:"button button--uppercase",to:"/products",children:"Fill it"})]})]})}}}]);
//# sourceMappingURL=489.577dda86.chunk.js.map